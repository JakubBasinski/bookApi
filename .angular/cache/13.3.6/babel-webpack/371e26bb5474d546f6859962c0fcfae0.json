{"ast":null,"code":"import { BOOKSMARKS_KEY } from '../../service/local-storage.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../service/local-storage.service\";\nimport * as i2 from \"@angular/material/list\";\nimport * as i3 from \"ngx-infinite-scroll\";\nimport * as i4 from \"@angular/cdk/scrolling\";\nimport * as i5 from \"@angular/material/card\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"@angular/material/button\";\nimport * as i8 from \"../pipes/cutText.pipe\";\n\nfunction BookListComponent_mat_card_2_mat_card_subtitle_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-card-subtitle\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const book_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(book_r1.volumeInfo.publishedDate.split(\"-\")[0]);\n  }\n}\n\nfunction BookListComponent_mat_card_2_mat_card_subtitle_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-card-subtitle\", 12)(1, \"p\");\n    i0.ɵɵtext(2, \"Year of publication was not provided\");\n    i0.ɵɵelementEnd()();\n  }\n}\n\nfunction BookListComponent_mat_card_2_mat_card_content_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-card-content\", 13)(1, \"p\");\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"cutText\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const book_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(3, 1, book_r1.volumeInfo.description), \" \");\n  }\n}\n\nfunction BookListComponent_mat_card_2_mat_card_content_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-card-content\", 12)(1, \"p\");\n    i0.ɵɵtext(2, \"Description was not provided\");\n    i0.ɵɵelementEnd()();\n  }\n}\n\nfunction BookListComponent_mat_card_2_button_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function BookListComponent_mat_card_2_button_13_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const book_r1 = i0.ɵɵnextContext().$implicit;\n      const ctx_r11 = i0.ɵɵnextContext();\n      return ctx_r11.addToBookmark(book_r1);\n    });\n    i0.ɵɵtext(1, \" Add to bookmark \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction BookListComponent_mat_card_2_button_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function BookListComponent_mat_card_2_button_14_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r16);\n      const book_r1 = i0.ɵɵnextContext().$implicit;\n      const ctx_r14 = i0.ɵɵnextContext();\n      return ctx_r14.removeFromBookmark(book_r1);\n    });\n    i0.ɵɵtext(1, \" Remove from bookmark \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction BookListComponent_mat_card_2_img_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 15);\n  }\n\n  if (rf & 2) {\n    const book_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"src\", book_r1.volumeInfo.imageLinks == null ? null : book_r1.volumeInfo.imageLinks.smallThumbnail, i0.ɵɵsanitizeUrl);\n  }\n}\n\nconst _c0 = function (a0) {\n  return {\n    bookmarked: a0\n  };\n};\n\nfunction BookListComponent_mat_card_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-card\", 3)(1, \"section\", 4)(2, \"mat-card-header\");\n    i0.ɵɵelement(3, \"div\", 5);\n    i0.ɵɵelementStart(4, \"mat-card-title\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"mat-card-subtitle\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(8, BookListComponent_mat_card_2_mat_card_subtitle_8_Template, 2, 1, \"mat-card-subtitle\", 6);\n    i0.ɵɵtemplate(9, BookListComponent_mat_card_2_mat_card_subtitle_9_Template, 3, 0, \"mat-card-subtitle\", 7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(10, BookListComponent_mat_card_2_mat_card_content_10_Template, 4, 3, \"mat-card-content\", 8);\n    i0.ɵɵtemplate(11, BookListComponent_mat_card_2_mat_card_content_11_Template, 3, 0, \"mat-card-content\", 7);\n    i0.ɵɵelementStart(12, \"mat-card-actions\");\n    i0.ɵɵtemplate(13, BookListComponent_mat_card_2_button_13_Template, 2, 0, \"button\", 9);\n    i0.ɵɵtemplate(14, BookListComponent_mat_card_2_button_14_Template, 2, 0, \"button\", 9);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"section\", 10);\n    i0.ɵɵtemplate(16, BookListComponent_mat_card_2_img_16_Template, 1, 1, \"img\", 11);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const book_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(10, _c0, ctx_r0.isBookmarked(book_r1)));\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(book_r1.volumeInfo.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(book_r1.volumeInfo.authors == null ? null : book_r1.volumeInfo.authors.join(\", \"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", book_r1.volumeInfo.publishedDate);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !book_r1.volumeInfo.publishedDate);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", book_r1.volumeInfo.description);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !book_r1.volumeInfo.description);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.isBookmarked(book_r1));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.isBookmarked(book_r1));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", book_r1.volumeInfo.imageLinks == null ? null : book_r1.volumeInfo.imageLinks.smallThumbnail);\n  }\n}\n\nexport let BookListComponent = /*#__PURE__*/(() => {\n  class BookListComponent {\n    constructor(localStorage) {\n      this.localStorage = localStorage;\n      this.totalItems = 0;\n      this.books = [];\n      this.bookmarks = [];\n      this.bookmarks = localStorage.getItem(BOOKSMARKS_KEY);\n    }\n\n    ngOnInit() {}\n\n    addToBookmark(book) {\n      if (this.bookmarks == null) {\n        this.bookmarks = [];\n      }\n\n      this.bookmarks.push(book.id);\n      this.localStorage.setItem(BOOKSMARKS_KEY, this.bookmarks);\n    }\n\n    isBookmarked(book) {\n      if (this.bookmarks == null) {\n        return false;\n      }\n\n      return this.bookmarks.includes(book.id);\n    }\n\n    removeFromBookmark(book) {\n      const index = this.bookmarks.indexOf(book.id);\n      this.bookmarks.splice(index, 1);\n      this.localStorage.setItem(BOOKSMARKS_KEY, this.bookmarks);\n    }\n\n  }\n\n  BookListComponent.ɵfac = function BookListComponent_Factory(t) {\n    return new (t || BookListComponent)(i0.ɵɵdirectiveInject(i1.LocalStorageService));\n  };\n\n  BookListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: BookListComponent,\n    selectors: [[\"app-book-list\"]],\n    inputs: {\n      totalItems: \"totalItems\",\n      books: \"books\"\n    },\n    decls: 3,\n    vars: 4,\n    consts: [[\"id\", \"list\"], [\"infiniteScroll\", \"\", 1, \"search-results\", 3, \"infiniteScrollDistance\", \"infiniteScrollThrottle\", \"scrollWindow\"], [\"class\", \"book-card\", 3, \"ngClass\", 4, \"cdkVirtualFor\", \"cdkVirtualForOf\"], [1, \"book-card\", 3, \"ngClass\"], [1, \"left\"], [\"mat-card-avatar\", \"\"], [4, \"ngIf\"], [\"class\", \"notprovided\", 4, \"ngIf\"], [\"class\", \"content\", 4, \"ngIf\"], [\"mat-button\", \"\", 3, \"click\", 4, \"ngIf\"], [1, \"right\"], [\"class\", \"cover\", \"mat-card-image\", \"\", \"alt\", \"Book cover\", 3, \"src\", 4, \"ngIf\"], [1, \"notprovided\"], [1, \"content\"], [\"mat-button\", \"\", 3, \"click\"], [\"mat-card-image\", \"\", \"alt\", \"Book cover\", 1, \"cover\", 3, \"src\"]],\n    template: function BookListComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"mat-list\", 0);\n        i0.ɵɵelementContainerStart(1, 1);\n        i0.ɵɵtemplate(2, BookListComponent_mat_card_2_Template, 17, 12, \"mat-card\", 2);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"infiniteScrollDistance\", 2)(\"infiniteScrollThrottle\", 50)(\"scrollWindow\", false);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"cdkVirtualForOf\", ctx.books);\n      }\n    },\n    directives: [i2.MatList, i3.InfiniteScrollDirective, i4.CdkVirtualForOf, i5.MatCard, i6.NgClass, i5.MatCardHeader, i5.MatCardAvatar, i5.MatCardTitle, i5.MatCardSubtitle, i6.NgIf, i5.MatCardContent, i5.MatCardActions, i7.MatButton, i5.MatCardImage],\n    pipes: [i8.CutTextPipe],\n    styles: [\"#list[_ngcontent-%COMP%]{display:flex;flex-direction:column}#list[_ngcontent-%COMP%]   .book-card[_ngcontent-%COMP%]{width:50%;height:230px;float:left;overflow:hidden;margin:10px;display:flex}#list[_ngcontent-%COMP%]   .book-card[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{width:70%;height:95%}#list[_ngcontent-%COMP%]   .book-card[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding-left:.3rem}#list[_ngcontent-%COMP%]   .book-card[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .notprovided[_ngcontent-%COMP%]{color:red;padding-top:1rem}#list[_ngcontent-%COMP%]   .book-card[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{width:30%;display:flex;justify-content:center;align-items:center}#list[_ngcontent-%COMP%]   .book-card[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .cover[_ngcontent-%COMP%]{width:90%;height:95%}#list[_ngcontent-%COMP%]   .book-card.bookmarked[_ngcontent-%COMP%]{border:10px solid gold}\"]\n  });\n  return BookListComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}